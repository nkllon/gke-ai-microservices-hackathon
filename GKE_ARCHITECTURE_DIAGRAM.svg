<?xml version="1.0" encoding="UTF-8"?>
<svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-family: Arial, sans-serif; font-size: 24px; font-weight: bold; fill: #1a73e8; }
      .subtitle { font-family: Arial, sans-serif; font-size: 18px; font-weight: bold; fill: #5f6368; }
      .text { font-family: Arial, sans-serif; font-size: 14px; fill: #202124; }
      .small-text { font-family: Arial, sans-serif; font-size: 12px; fill: #5f6368; }
      .cluster { fill: #e8f0fe; stroke: #1a73e8; stroke-width: 2; rx: 10; }
      .service { fill: #f8f9fa; stroke: #34a853; stroke-width: 2; rx: 8; }
      .agent { fill: #fef7e0; stroke: #f4b400; stroke-width: 2; rx: 8; }
      .storage { fill: #fce8e6; stroke: #ea4335; stroke-width: 2; rx: 8; }
      .gateway { fill: #e6f4ea; stroke: #34a853; stroke-width: 2; rx: 8; }
      .arrow { stroke: #5f6368; stroke-width: 2; marker-end: url(#arrowhead); }
      .data-flow { stroke: #1a73e8; stroke-width: 3; stroke-dasharray: 5,5; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#5f6368" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="600" y="40" text-anchor="middle" class="title">Ghostbusters AI Agent Microservices Platform on GKE</text>
  <text x="600" y="65" text-anchor="middle" class="subtitle">Intelligent Code Review Pipeline with Multi-Agent Orchestration</text>

  <!-- GKE Cluster Container -->
  <rect x="50" y="100" width="1100" height="650" class="cluster" />
  <text x="600" y="130" text-anchor="middle" class="subtitle">Google Kubernetes Engine (GKE) Cluster</text>

  <!-- Frontend Layer -->
  <rect x="100" y="160" width="200" height="80" class="service" />
  <text x="200" y="190" text-anchor="middle" class="text">Frontend Service</text>
  <text x="200" y="210" text-anchor="middle" class="small-text">Streamlit/React</text>
  <text x="200" y="225" text-anchor="middle" class="small-text">Code Upload & Results</text>
  <text x="200" y="240" text-anchor="middle" class="small-text">HPA: 2-5 pods</text>

  <!-- API Gateway -->
  <rect x="400" y="160" width="200" height="80" class="gateway" />
  <text x="500" y="190" text-anchor="middle" class="text">API Gateway Service</text>
  <text x="500" y="210" text-anchor="middle" class="small-text">FastAPI + Authentication</text>
  <text x="200" y="225" text-anchor="middle" class="small-text">Rate Limiting & Routing</text>
  <text x="500" y="240" text-anchor="middle" class="small-text">HPA: 3-8 pods</text>

  <!-- Load Balancer -->
  <rect x="700" y="160" width="200" height="80" class="gateway" />
  <text x="800" y="190" text-anchor="middle" class="text">Load Balancer</text>
  <text x="800" y="210" text-anchor="middle" class="small-text">GKE Ingress Controller</text>
  <text x="800" y="225" text-anchor="middle" class="small-text">SSL Termination</text>
  <text x="800" y="240" text-anchor="middle" class="small-text">Traffic Distribution</text>

  <!-- Orchestrator Service -->
  <rect x="400" y="300" width="200" height="80" class="service" />
  <text x="500" y="330" text-anchor="middle" class="text">Orchestrator Service</text>
  <text x="500" y="350" text-anchor="middle" class="small-text">Ghostbusters Core</text>
  <text x="500" y="365" text-anchor="middle" class="small-text">Workflow Management</text>
  <text x="500" y="380" text-anchor="middle" class="small-text">StatefulSet: 1-3 replicas</text>

  <!-- AI Agent Services -->
  <rect x="100" y="440" width="180" height="80" class="agent" />
  <text x="190" y="470" text-anchor="middle" class="text">Security Agent</text>
  <text x="190" y="490" text-anchor="middle" class="small-text">Vulnerability Scanning</text>
  <text x="190" y="505" text-anchor="middle" class="small-text">HPA: 3-10 pods</text>
  <text x="190" y="520" text-anchor="middle" class="small-text">256Mi-512Mi RAM</text>

  <rect x="320" y="440" width="180" height="80" class="agent" />
  <text x="410" y="470" text-anchor="middle" class="text">Quality Agent</text>
  <text x="410" y="490" text-anchor="middle" class="small-text">Code Quality Analysis</text>
  <text x="410" y="505" text-anchor="middle" class="small-text">HPA: 3-10 pods</text>
  <text x="410" y="520" text-anchor="middle" class="small-text">256Mi-512Mi RAM</text>

  <rect x="540" y="440" width="180" height="80" class="agent" />
  <text x="630" y="470" text-anchor="middle" class="text">Test Agent</text>
  <text x="630" y="490" text-anchor="middle" class="small-text">Test Coverage Analysis</text>
  <text x="630" y="505" text-anchor="middle" class="small-text">HPA: 3-10 pods</text>
  <text x="630" y="520" text-anchor="middle" class="small-text">256Mi-512Mi RAM</text>

  <!-- Storage Services -->
  <rect x="800" y="440" width="180" height="80" class="storage" />
  <text x="890" y="470" text-anchor="middle" class="text">Cloud Storage</text>
  <text x="890" y="490" text-anchor="middle" class="small-text">Code Repository</text>
  <text x="890" y="505" text-anchor="middle" class="small-text">Analysis Results</text>
  <text x="890" y="520" text-anchor="middle" class="small-text">Persistent Data</text>

  <!-- Monitoring & Observability -->
  <rect x="100" y="600" width="180" height="80" class="service" />
  <text x="190" y="630" text-anchor="middle" class="text">Cloud Monitoring</text>
  <text x="190" y="650" text-anchor="middle" class="small-text">GKE Metrics</text>
  <text x="190" y="665" text-anchor="middle" class="small-text">Performance Data</text>
  <text x="190" y="680" text-anchor="middle" class="small-text">Auto-scaling Triggers</text>

  <rect x="320" y="600" width="180" height="80" class="service" />
  <text x="410" y="630" text-anchor="middle" class="text">Cloud Logging</text>
  <text x="410" y="650" text-anchor="middle" class="small-text">Centralized Logs</text>
  <text x="410" y="665" text-anchor="middle" class="small-text">Audit Trail</text>
  <text x="410" y="680" text-anchor="middle" class="small-text">Error Tracking</text>

  <rect x="540" y="600" width="180" height="80" class="service" />
  <text x="630" y="630" text-anchor="middle" class="text">Quality Dashboard</text>
  <text x="630" y="650" text-anchor="middle" class="small-text">Results Visualization</text>
  <text x="630" y="665" text-anchor="middle" class="small-text">Quality Gates</text>
  <text x="630" y="680" text-anchor="middle" class="small-text">Deployment Control</text>

  <!-- External Components -->
  <rect x="800" y="600" width="180" height="80" class="storage" />
  <text x="890" y="630" text-anchor="middle" class="text">Production Environment</text>
  <text x="890" y="650" text-anchor="middle" class="small-text">GKE Deployment</text>
  <text x="890" y="665" text-anchor="middle" class="small-text">Quality Gate Control</text>
  <text x="890" y="680" text-anchor="middle" class="small-text">Rollback Capability</text>

  <!-- Arrows - Data Flow -->
  <!-- Frontend to API Gateway -->
  <line x1="300" y1="200" x2="400" y2="200" class="arrow" />
  
  <!-- API Gateway to Orchestrator -->
  <line x1="500" y1="240" x2="500" y2="300" class="arrow" />
  
  <!-- Orchestrator to Agents -->
  <line x1="400" y1="340" x2="190" y2="440" class="arrow" />
  <line x1="500" y1="380" x2="410" y2="440" class="arrow" />
  <line x1="600" y1="340" x2="630" y2="440" class="arrow" />
  
  <!-- Agents to Storage -->
  <line x1="280" y1="480" x2="800" y2="480" class="arrow" />
  <line x1="500" y1="480" x2="800" y2="480" class="arrow" />
  <line x1="720" y1="480" x2="800" y2="480" class="arrow" />
  
  <!-- Storage to Monitoring -->
  <line x1="800" y1="520" x2="190" y2="600" class="arrow" />
  <line x1="800" y1="520" x2="410" y2="600" class="arrow" />
  
  <!-- Monitoring to Dashboard -->
  <line x1="280" y1="640" x2="540" y2="640" class="arrow" />
  <line x1="500" y1="640" x2="540" y2="640" class="arrow" />
  
  <!-- Dashboard to Production -->
  <line x1="720" y1="640" x2="800" y2="640" class="arrow" />
  
  <!-- Quality Gate Flow -->
  <line x1="630" y1="680" x2="800" y2="680" class="data-flow" />
  
  <!-- External User -->
  <circle cx="200" cy="120" r="25" fill="#e8f0fe" stroke="#1a73e8" stroke-width="2" />
  <text x="200" y="125" text-anchor="middle" class="text">üë§</text>
  <text x="200" y="155" text-anchor="middle" class="small-text">Developer</text>
  
  <!-- External User to Frontend -->
  <line x1="200" y1="145" x2="200" y2="160" class="arrow" />

  <!-- GKE Features Legend -->
  <rect x="50" y="780" width="1100" height="120" fill="#f8f9fa" stroke="#5f6368" stroke-width="1" rx="5" />
  <text x="600" y="800" text-anchor="middle" class="subtitle">GKE Features & Capabilities</text>
  
  <text x="100" y="820" class="text">üöÄ <strong>Auto-scaling:</strong> HPA for all services, CPU/Memory-based triggers</text>
  <text x="100" y="840" class="text">üîí <strong>Security:</strong> Network policies, Pod security standards, Workload identity</text>
  <text x="100" y="860" class="text">üìä <strong>Monitoring:</strong> Cloud Monitoring, Cloud Logging, Custom metrics</text>
  <text x="100" y="880" class="text">üåê <strong>Networking:</strong> Service discovery, Load balancing, Ingress controller</text>

  <!-- Performance Metrics -->
  <text x="600" y="820" class="text">‚ö° <strong>Performance:</strong> &lt;500ms response time, 1000+ req/sec throughput</text>
  <text x="600" y="840" class="text">üìà <strong>Scalability:</strong> 3-10 pods per service, linear scaling</text>
  <text x="600" y="860" class="text">üîÑ <strong>Reliability:</strong> 99.9% uptime, auto-recovery, health checks</text>
  <text x="600" y="880" class="text">üéØ <strong>Quality Gates:</strong> Security ‚â•80%, Quality ‚â•75%, Tests ‚â•70%</text>

  <!-- Data Flow Legend -->
  <text x="1060" y="755" class="text">Data Flow</text>
</svg>
